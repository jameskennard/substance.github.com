{"version":3,"file":"app.js","sources":["../../input/input/InputNode.js","../../input/input/InputComponent.js","../../input/input/InputPackage.js","../../input/fixture.js","../../input/app.js"],"sourcesContent":["import { DocumentNode } from 'substance'\n\nclass InputNode extends DocumentNode {}\n\nInputNode.defineSchema({\n  type: 'input-node',\n  content: { type: 'string', default: '' }\n})\n\nexport default InputNode","import { Component } from 'substance'\n\nclass InputComponent extends Component {\n  didMount() {\n    // Register for model side updates\n    this.context.editorSession.onRender('document', this.onContentChange, this, {\n      path: [this.props.node.id, 'content']\n    })\n  }\n\n  // And please always deregister\n  dispose() {\n    this.context.editorSession.off(this)\n  }\n\n  render($$) {\n    let el = $$('div').addClass('sc-input-node')\n    let input = $$('input').ref('input')\n      .val(this.props.node.content)\n      .on('change', this.onChange)\n    // you should disable the input when the parent asks you to do so\n    if (this.props.disabled) {\n      input.attr('disabled', true)\n    }\n\n    el.append(input)\n    return el\n  }\n\n  // this is called when the input's content has been changed\n  onChange() {\n    let editorSession = this.context.editorSession\n    let node = this.props.node\n    let newVal = this.refs.input.val()\n    editorSession.transaction(function(tx) {\n      tx.set([node.id, 'content'], newVal)\n    })\n  }\n\n  // this is called when the model has changed, e.g. on undo/redo\n  onContentChange() {\n    this.refs.input.val(this.props.node.content)\n  }\n}\n\nexport default InputComponent","import InputNode from './InputNode'\nimport InputComponent from './InputComponent'\n\nexport default {\n  name: 'input',\n  configure: function(config) {\n    config.addNode(InputNode)\n    config.addComponent(InputNode.type, InputComponent)\n    config.addLabel('input', 'Input')\n  }\n}","export default function(tx) {\n  let body = tx.get('body')\n  tx.create({\n    id: 'title',\n    type: 'heading',\n    level: 1,\n    content: 'Input Element'\n  })\n  body.show('title')\n  tx.create({\n    id: 'intro',\n    type: 'paragraph',\n    content: [\n      \"You can use custom elements with an HTML input element\"\n    ].join('')\n  })\n  body.show('intro')\n  tx.create({\n    type: 'input-node',\n    id: 'input',\n    content: 'Lorem ipsum...'\n  })\n  body.show('input')\n  tx.create({\n    id: 'the-end',\n    type: 'paragraph',\n    content: 'That way you can implement editor functionality using class web development practices.'\n  })\n  body.show('the-end')\n}","import {\n  ProseEditor, Configurator, EditorSession, ProseEditorPackage\n} from 'substance'\n\nimport InputPackage from './input/InputPackage'\nimport fixture from './fixture'\n\nlet cfg = new Configurator()\ncfg.import(ProseEditorPackage)\ncfg.import(InputPackage)\n\nwindow.onload = function() {\n  let doc = cfg.createArticle(fixture)\n  let editorSession = new EditorSession(doc, {\n    configurator: cfg\n  })\n  ProseEditor.mount({\n    editorSession: editorSession\n  }, document.body)\n}\n"],"names":["DocumentNode","let","Component","Configurator","ProseEditorPackage","EditorSession","ProseEditor"],"mappings":"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"}